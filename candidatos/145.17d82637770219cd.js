"use strict";(self.webpackChunkcandidatos=self.webpackChunkcandidatos||[]).push([[145],{9145:(w,m,s)=>{s.r(m),s.d(m,{MotivacionesModule:()=>J});var d=s(6814),u=s(6208),l=s(95),p=s(5476),_=s(2087),v=s(760),o=s(4769),g=s(553),h=s(9862);let M=(()=>{class n{constructor(t){this.http=t,this.apiUrl=g.N.apiUrl}getMotivacionPrincipal(t){const a=this.apiUrl+"/api/Motivacion/obtener_motivaciones_id?id="+t.toString();return this.http.get(a)}putMotivacionPrincipal(t,a){const i=this.apiUrl+"/api/Motivacion/editar_motivacion?id="+t.toString();return this.http.put(i,a)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(h.eN))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var C=s(8245),b=s(6207);function f(n,r){1&n&&(o.TgZ(0,"div",5),o._UZ(1,"div",6),o.qZA())}function x(n,r){if(1&n){const t=o.EpF();o.TgZ(0,"div",35)(1,"li",36),o._uU(2),o.qZA(),o.TgZ(3,"button",37),o.NdJ("click",function(){const e=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.deleteMotivo(e))}),o._uU(4,"Eliminar"),o.qZA(),o.TgZ(5,"button",38),o.NdJ("click",function(){const e=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setEditMotivo(e))}),o._uU(6,"Editar"),o.qZA()()}if(2&n){const t=r.$implicit;o.xp6(2),o.Oqu(t)}}function Z(n,r){if(1&n){const t=o.EpF();o.TgZ(0,"label",39)(1,"p"),o._uU(2," Agrega un foto de tu motivacion principal "),o.qZA(),o._UZ(3,"img",40),o.TgZ(4,"input",41),o.NdJ("change",function(i){o.CHM(t);const e=o.oxw(2);return o.KtG(e.seleccionarImagenMotivacionEditar(i))}),o.qZA()()}}function A(n,r){if(1&n){const t=o.EpF();o.TgZ(0,"div",42),o._UZ(1,"img",43),o.TgZ(2,"button",44),o.NdJ("click",function(){o.CHM(t);const i=o.oxw(2);return o.KtG(i.eliminarFotoMotivacion())}),o._uU(3,"Eliminar Imagen"),o.qZA()()}if(2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("src",t.imagenMotivacion.foto,o.LSH)}}function T(n,r){if(1&n){const t=o.EpF();o.TgZ(0,"div",35)(1,"li",36),o._uU(2),o.qZA(),o.TgZ(3,"button",37),o.NdJ("click",function(){const e=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.deleteValorFavor(e))}),o._uU(4,"Eliminar"),o.qZA(),o.TgZ(5,"button",38),o.NdJ("click",function(){const e=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setEditValorFavor(e))}),o._uU(6,"Editar"),o.qZA()()}if(2&n){const t=r.$implicit;o.xp6(2),o.Oqu(t)}}function F(n,r){if(1&n){const t=o.EpF();o.TgZ(0,"div",35)(1,"li",36),o._uU(2),o.qZA(),o.TgZ(3,"button",37),o.NdJ("click",function(){const e=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.deleteValorContra(e))}),o._uU(4,"Eliminar"),o.qZA(),o.TgZ(5,"button",38),o.NdJ("click",function(){const e=o.CHM(t).$implicit,c=o.oxw(2);return o.KtG(c.setEditValorContra(e))}),o._uU(6,"Editar"),o.qZA()()}if(2&n){const t=r.$implicit;o.xp6(2),o.Oqu(t)}}function k(n,r){if(1&n){const t=o.EpF();o.TgZ(0,"div")(1,"form",7)(2,"div",8)(3,"label",9),o._uU(4,"Motivos"),o.qZA(),o.TgZ(5,"ul",10),o.YNc(6,x,7,1,"div",11),o.qZA(),o.TgZ(7,"button",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.openModalMotivo("staticBackdrop"))}),o._uU(8," Agregar motivo "),o.qZA()(),o.TgZ(9,"div",13)(10,"div",14)(11,"div",15)(12,"div",16)(13,"h1",17),o._uU(14,"Motivo"),o.qZA(),o.TgZ(15,"button",18),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.cerrarModal("staticBackdrop"))}),o.qZA()(),o.TgZ(16,"div",19)(17,"input",20),o.NdJ("ngModelChange",function(i){o.CHM(t);const e=o.oxw();return o.KtG(e.motivo=i)}),o.qZA()(),o.TgZ(18,"div",21)(19,"button",22),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.botonEditarMotivo?i.editMotivo():i.addMotivo("staticBackdrop"))}),o._uU(20),o.qZA()()()()(),o.TgZ(21,"div",8)(22,"label",9),o._uU(23,"Foto del motivo principal "),o.qZA(),o.TgZ(24,"div",23),o.YNc(25,Z,5,0,"label",24),o.qZA(),o.YNc(26,A,4,1,"div",25),o.qZA(),o.TgZ(27,"div",8)(28,"label",9),o._uU(29,"Motivaci\xf3n principal"),o.qZA(),o.TgZ(30,"textarea",26),o.NdJ("ngModelChange",function(i){o.CHM(t);const e=o.oxw();return o.KtG(e.motivacionPrincipal=i)}),o.qZA()(),o.TgZ(31,"div",27)(32,"label",9),o._uU(33,"Valores a favor"),o.qZA(),o.TgZ(34,"ul",10),o.YNc(35,T,7,1,"div",11),o.qZA(),o.TgZ(36,"button",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.openModalValorFavor("staticBackdrop1"))}),o._uU(37," Agregar valor a favor "),o.qZA()(),o.TgZ(38,"div",28)(39,"div",14)(40,"div",15)(41,"div",16)(42,"h1",29),o._uU(43,"Valores a favor"),o.qZA(),o.TgZ(44,"button",18),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.cerrarModal("staticBackdrop1"))}),o.qZA()(),o.TgZ(45,"div",19)(46,"input",30),o.NdJ("ngModelChange",function(i){o.CHM(t);const e=o.oxw();return o.KtG(e.valorFavor=i)}),o.qZA()(),o.TgZ(47,"div",21)(48,"button",22),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.botonEditarValorFavor?i.editValorFavor():i.addValorFavor())}),o._uU(49),o.qZA()()()()(),o.TgZ(50,"div",27)(51,"label",9),o._uU(52,"Valores en contra"),o.qZA(),o.TgZ(53,"ul",10),o.YNc(54,F,7,1,"div",11),o.qZA(),o.TgZ(55,"button",12),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.openModalValorContra("staticBackdrop2"))}),o._uU(56," Agregar valor en contra "),o.qZA()(),o.TgZ(57,"div",31)(58,"div",14)(59,"div",15)(60,"div",16)(61,"h1",32),o._uU(62,"Valores en contra"),o.qZA(),o.TgZ(63,"button",18),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.cerrarModal("staticBackdrop2"))}),o.qZA()(),o.TgZ(64,"div",19)(65,"input",33),o.NdJ("ngModelChange",function(i){o.CHM(t);const e=o.oxw();return o.KtG(e.valorContra=i)}),o.qZA()(),o.TgZ(66,"div",21)(67,"button",22),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.botonEditarValorContra?i.editValorContra():i.addValorContra())}),o._uU(68),o.qZA()()()()(),o.TgZ(69,"div",8)(70,"button",34),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return o.KtG(i.putMotivacion())}),o._uU(71," Guardar cambios "),o.qZA()()()()}if(2&n){const t=o.oxw();o.xp6(6),o.Q6J("ngForOf",t.motivos),o.xp6(11),o.Q6J("ngModel",t.motivo),o.xp6(2),o.Q6J("disabled",null==t.motivo||""==t.motivo),o.xp6(1),o.Oqu(t.botonEditarMotivo?"Actualizar":"Agregar"),o.xp6(5),o.Q6J("ngIf",t.imagenMotivacion&&""==t.imagenMotivacion.foto),o.xp6(1),o.Q6J("ngIf",t.imagenMotivacion&&""!=t.imagenMotivacion.foto),o.xp6(4),o.Q6J("ngModel",t.motivacionPrincipal),o.xp6(5),o.Q6J("ngForOf",t.valoresFavor),o.xp6(11),o.Q6J("ngModel",t.valorFavor),o.xp6(2),o.Q6J("disabled",null==t.valorFavor||""==t.valorFavor),o.xp6(1),o.Oqu(t.botonEditarValorFavor?"Editar valor a favor":"Agregar valor a favor"),o.xp6(5),o.Q6J("ngForOf",t.valoresContra),o.xp6(11),o.Q6J("ngModel",t.valorContra),o.xp6(2),o.Q6J("disabled",null==t.valorContra||""==t.valorContra),o.xp6(1),o.Oqu(t.botonEditarValorContra?"Editar valor en contra":"Agregar valor en contra")}}function E(n,r){1&n&&o._UZ(0,"app-no-results")}const y=[{path:"",component:(()=>{class n{constructor(t,a){this.servicioMotivacion=t,this.servicioMensaje=a,this.idActual=localStorage.getItem("usuarioId"),this.isLoading=v.v.neutro,this.botonEditarMotivo=!1,this.motivoAntiguo="",this.motivo="",this.motivos=[],this.imagenMotivacion={tipo:1,foto:""},this.imagenMotivacionBase64="",this.motivacionPrincipal="",this.botonEditarValorFavor=!1,this.valorFavorAntiguo="",this.valorFavor="",this.valoresFavor=[],this.botonEditarValorContra=!1,this.valorContraAntiguo="",this.valorContra="",this.valoresContra=[]}ngOnInit(){console.log("Iniciamos el componente..."),this.getMotivacionPrincipal()}getMotivacionPrincipal(){this.isLoading=v.v.trueLoading,this.servicioMotivacion.getMotivacionPrincipal(this.idActual).subscribe({next:t=>{console.log("BIEN AL OBTENER LA MOTIVACION PRINCIPAL"),this.motivos=t.motivos,this.imagenMotivacion=t.foto,this.motivacionPrincipal=t.motivacionPrincipal,this.valoresFavor=t.valores,this.valoresContra=t.valoresContra,this.isLoading=v.v.falseLoading},error:t=>{this.isLoading=v.v.errorLoading}})}abrirModal(t){const a=document.getElementById(t);if(a){a.classList.add("show"),a.style.display="block",document.body.classList.add("modal-open");const i=document.createElement("div");i.classList.add("modal-backdrop","show"),document.body.appendChild(i)}}cerrarModal(t){const a=document.getElementById(t);if(a){a.classList.remove("show"),a.style.display="none",document.body.classList.remove("modal-open");const i=document.getElementsByClassName("modal-backdrop")[0];i&&document.body.removeChild(i)}}resetFormularioMotivo(){this.motivo=""}openModalMotivo(t){this.abrirModal(t),this.resetFormularioMotivo(),this.botonEditarMotivo=!1}addMotivo(t){this.motivos.push(this.motivo),this.cerrarModal(t)}deleteMotivo(t){const a=this.motivos.filter(i=>i!==t);this.motivos=a}setEditMotivo(t){this.motivoAntiguo=t,this.motivo=t,this.abrirModal("staticBackdrop"),this.botonEditarMotivo=!0,console.log(this.motivos),console.log("La variable de la M:",t," La varible del motivo: ",this.motivo)}editMotivo(){const t=this.motivos.findIndex(a=>a==this.motivoAntiguo);console.log("El indice del indice del indice motivo: ",t),this.motivos[t]=this.motivo,this.cerrarModal("staticBackdrop"),this.botonEditarMotivo=!1,console.log(this.motivos)}seleccionarImagenMotivacionEditar(t){console.log("Obteniendo imagenes a editar... ");const a=t.target.files[0];if(a){const i=new FileReader;i.readAsDataURL(a),i.onload=()=>{this.imagenMotivacionBase64=i.result,this.imagenMotivacion={foto:this.imagenMotivacionBase64,tipo:2},console.log("La imagen actual del candidato --\x3e ",this.imagenMotivacionBase64)}}}eliminarFotoMotivacion(){console.log("Eliminamos la foto de la motivacion -> "),this.imagenMotivacionBase64="",this.imagenMotivacion={foto:"",tipo:1},console.log(this.imagenMotivacion)}resetFormularioValorFavor(){this.valorFavor=""}openModalValorFavor(t){this.abrirModal(t),this.resetFormularioValorFavor()}addValorFavor(){this.valoresFavor.push(this.valorFavor),this.cerrarModal("staticBackdrop1")}deleteValorFavor(t){const a=this.valoresFavor.filter(i=>i!==t);this.valoresFavor=a}setEditValorFavor(t){this.valorFavorAntiguo=t,this.valorFavor=t,this.abrirModal("staticBackdrop1"),this.botonEditarValorFavor=!0,console.log(this.valoresFavor),console.log("La variable de la M:",t," La varible del motivo: ",this.valorFavor)}editValorFavor(){const t=this.valoresFavor.findIndex(a=>a==this.valorFavorAntiguo);console.log("El indice del indice del indice motivo: ",t),this.valoresFavor[t]=this.valorFavor,this.cerrarModal("staticBackdrop1"),this.botonEditarValorFavor=!1,console.log(this.valoresFavor)}resetFormularioValorContra(){this.valorContra=""}openModalValorContra(t){this.abrirModal(t),this.resetFormularioValorContra()}addValorContra(){this.valoresContra.push(this.valorContra),this.cerrarModal("staticBackdrop2")}deleteValorContra(t){const a=this.valoresContra.filter(i=>i!==t);this.valoresContra=a}setEditValorContra(t){this.valorContraAntiguo=t,this.valorContra=t,this.abrirModal("staticBackdrop2"),this.botonEditarValorContra=!0,console.log(this.valoresContra),console.log("La variable de la M:",t," La varible del motivo: ",this.valorContra)}editValorContra(){const t=this.valoresContra.findIndex(a=>a==this.valorContraAntiguo);console.log("El indice del indice del indice motivo: ",t),this.valoresContra[t]=this.valorContra,this.cerrarModal("staticBackdrop2"),this.botonEditarValorContra=!1,console.log(this.valoresContra)}putMotivacion(){const t={motivos:this.motivos,foto:this.imagenMotivacion,motivacionPrincipal:this.motivacionPrincipal,valores:this.valoresFavor,valoresContra:this.valoresContra};console.log(t),this.servicioMotivacion.putMotivacionPrincipal(this.idActual,t).subscribe({next:a=>{console.log("BIEN AL EDITAR LA MOTIVACION PRINCIPAL"),this.motivos=a.motivos,this.imagenMotivacion=a.foto,this.motivacionPrincipal=a.motivacionPrincipal,this.valoresFavor=a.valores,this.valoresContra=a.valoresContra,console.log(a),this.servicioMensaje.mensajeExito("Se actualiz\xf3 con \xe9xito")},error:a=>{this.servicioMensaje.mensajeExito("Error al actualizar")}}),console.log("LAS MOTIVACIONES QUE ENVIAMOS A ACTUALIZAR: ",t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(M),o.Y36(C.V))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-motivaciones"]],decls:10,vars:4,consts:[[1,"row"],[1,"bienvenida"],[3,"ngSwitch"],["class","progress",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"progress"],[1,"progress-bar","progress-bar-indeterminate","bg-green"],[1,"row","g-3"],[1,"col-md-12"],["for","",1,"form-label"],[1,"list-group"],["style","display: flex; justify-content: space-evenly;","class","mt-1",4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal",1,"btn","btn-primary","mt-2",2,"width","100%","background-color","rgb(122, 4, 201)",3,"click"],["id","staticBackdrop","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-3"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["name","motivo","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",2,"width","100%",3,"disabled","click"],[1,"form-group",2,"display","flex","justify-content","center","align-items","center"],["style","width: 100%; height: 100%; padding: 1rem; display: flex; flex-direction:column; align-items: center; border: 4px dashed rgb(104, 104, 104); border-radius: 5px;","for","imagen-motivacion",4,"ngIf"],["class","mt-1",4,"ngIf"],["name","motivacionPrincipal","id","","rows","10",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6"],["id","staticBackdrop1","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["id","staticBackdropLabe1",1,"modal-title","fs-3"],["name","valorFavor","type","text",1,"form-control",3,"ngModel","ngModelChange"],["id","staticBackdrop2","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],["id","staticBackdropLabe2",1,"modal-title","fs-3"],["name","valorContra","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"mt-1",2,"display","flex","justify-content","space-evenly"],[1,"list-group-item","p-2",2,"width","74%"],[1,"btn","btn-danger",2,"width","12%",3,"click"],[1,"btn","btn-warning",2,"width","12%",3,"click"],["for","imagen-motivacion",2,"width","100%","height","100%","padding","1rem","display","flex","flex-direction","column","align-items","center","border","4px dashed rgb(104, 104, 104)","border-radius","5px"],["src","assets/images/galeria-de-fotos.png","alt","Subir imagen",2,"width","155px"],["type","file","accept","/*image","id","imagen-motivacion",1,"form-control",2,"display","none",3,"change"],[1,"mt-1"],["alt","",2,"width","100%",3,"src"],[1,"btn","btn-danger","mt-2",2,"width","100%",3,"click"]],template:function(t,a){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h1"),o._uU(3,"Bienvenida/o al cuestionario de motivaciones para el candidato"),o.qZA(),o.TgZ(4,"p"),o._uU(5,"Lee con atencion cada uno de los campos y verificalos antes de enviar"),o.qZA()()(),o.ynx(6,2),o.YNc(7,f,2,0,"div",3),o.YNc(8,k,72,15,"div",4),o.YNc(9,E,1,0,"app-no-results",4),o.BQk()),2&t&&(o.xp6(6),o.Q6J("ngSwitch",a.isLoading),o.xp6(1),o.Q6J("ngSwitchCase",2),o.xp6(1),o.Q6J("ngSwitchCase",3),o.xp6(1),o.Q6J("ngSwitchCase",4))},dependencies:[d.sg,d.O5,d.RF,d.n9,b.S,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F]}),n})(),canActivate:[_.a],data:{claimType:"CanAccessMotivaciones"}}];let V=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[p.Bz.forChild(y),p.Bz]}),n})(),J=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[d.ez,V,u.m,l.UX,l.u5]}),n})()}}]);