"use strict";(self.webpackChunkcandidatos=self.webpackChunkcandidatos||[]).push([[63],{2087:(Z,p,r)=>{r.d(p,{a:()=>o});var c=r(4769),m=r(5399),u=r(5476);let o=(()=>{class s{constructor(g,v){this.securityService=g,this.router=v,localStorage.getItem("dataObject")&&this.setDataUser()}canActivate(g,v){let f=g.data.claimType;return this.dataObject?.isAuthenticated&&this.securityService.hasClaim(f)||this.router.navigate(["**"]),!0}setDataUser(){this.dataObject=this.securityService.getDataUser()}}return s.\u0275fac=function(g){return new(g||s)(c.LFG(m.I),c.LFG(u.F0))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},760:(Z,p,r)=>{r.d(p,{v:()=>c});var c=(()=>((c=c||{})[c.neutro=1]="neutro",c[c.trueLoading=2]="trueLoading",c[c.falseLoading=3]="falseLoading",c[c.errorLoading=4]="errorLoading",c))()},5063:(Z,p,r)=>{r.r(p),r.d(p,{PersonalizacionModule:()=>y});var c=r(6814),m=r(5476),u=r(760),o=r(4769),s=r(553),h=r(6306),g=r(9862),v=r(772);let f=(()=>{class t{constructor(n,i){this.http=n,this.handleErrorService=i,this.apiUrl=s.N.apiUrl}guardarConfiguracion(n){return this.http.post(`${this.apiUrl}/agregar_iuportal`,n).pipe((0,h.K)(this.handleErrorService.handleError))}obtenerConfiguracion(){return this.http.get(`${this.apiUrl}/obtener_iuportales`).pipe((0,h.K)(this.handleErrorService.handleError))}getPersonalizacionId(n){const i=this.apiUrl+"/api/personalizacion/obtener_personalizacion?idPersonalizacion="+n.toString();return this.http.get(i)}putPersonalizacionId(n,i){const e=this.apiUrl+"/api/personalizacion/editar_personalizacion?idPersonalizacion="+n.toString();return this.http.put(e,i)}}return t.\u0275fac=function(n){return new(n||t)(o.LFG(g.eN),o.LFG(v.t))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var C=r(8245),d=r(95);function A(t,l){1&t&&(o.TgZ(0,"div",11),o._UZ(1,"div",12),o.qZA())}function x(t,l){if(1&t){const n=o.EpF();o.TgZ(0,"form",48)(1,"div",49)(2,"input",50),o.NdJ("change",function(e){o.CHM(n);const a=o.oxw(2);return o.KtG(a.seleccionarLogoInstituto(e))}),o.qZA()(),o.TgZ(3,"div")(4,"p"),o._uU(5,"Arrastra archivos o haz clic aqu\xed para cargarlos."),o.qZA(),o._UZ(6,"i",51),o.qZA()()}}function T(t,l){if(1&t){const n=o.EpF();o.TgZ(0,"div"),o._UZ(1,"img",52),o.TgZ(2,"button",53),o.NdJ("click",function(){o.CHM(n);const e=o.oxw(2);return o.KtG(e.eliminarLogoInstituto())}),o._uU(3,"Eliminar"),o.qZA()()}if(2&t){const n=o.oxw(2);o.xp6(1),o.s9C("src",n.logoInstituto64,o.LSH)}}function b(t,l){if(1&t){const n=o.EpF();o.TgZ(0,"form",54)(1,"div",49)(2,"input",50),o.NdJ("change",function(e){o.CHM(n);const a=o.oxw(2);return o.KtG(a.seleccionarLogoApp(e))}),o.qZA()(),o.TgZ(3,"p"),o._uU(4," Arrastra archivos o haz clic aqu\xed para cargarlos. "),o.qZA(),o._UZ(5,"i",51),o.qZA()}}function M(t,l){if(1&t){const n=o.EpF();o.TgZ(0,"div"),o._UZ(1,"img",52),o.TgZ(2,"button",53),o.NdJ("click",function(){o.CHM(n);const e=o.oxw(2);return o.KtG(e.eliminarLogoApp())}),o._uU(3,"Eliminar"),o.qZA()()}if(2&t){const n=o.oxw(2);o.xp6(1),o.s9C("src",n.logoApp64,o.LSH)}}function z(t,l){if(1&t){const n=o.EpF();o.TgZ(0,"form",54)(1,"div",49)(2,"input",50),o.NdJ("change",function(e){o.CHM(n);const a=o.oxw(2);return o.KtG(a.seleccionarImgWelcome(e))}),o.qZA()(),o.TgZ(3,"p"),o._uU(4," Arrastra archivos o haz clic aqu\xed para cargarlos. "),o.qZA(),o._UZ(5,"i",51),o.qZA()}}function U(t,l){if(1&t){const n=o.EpF();o.TgZ(0,"div"),o._UZ(1,"img",52),o.TgZ(2,"button",53),o.NdJ("click",function(){o.CHM(n);const e=o.oxw(2);return o.KtG(e.eliminarImgWelcome())}),o._uU(3,"Eliminar"),o.qZA()()}if(2&t){const n=o.oxw(2);o.xp6(1),o.s9C("src",n.imgWelcome64,o.LSH)}}function P(t,l){if(1&t){const n=o.EpF();o.TgZ(0,"div")(1,"div",2),o._UZ(2,"br")(3,"br"),o.TgZ(4,"div",1)(5,"div",13)(6,"div",2)(7,"div",3)(8,"h3",4),o._uU(9,"Im\xe1genes del sistema"),o.qZA()(),o._UZ(10,"br")(11,"br"),o.TgZ(12,"div",1)(13,"div",13)(14,"div",14)(15,"div",2)(16,"div",15)(17,"h3",4),o._uU(18,"LOGO INSTITUTO ELECTORAL"),o.qZA(),o.YNc(19,x,7,0,"form",16),o.qZA(),o.YNc(20,T,4,1,"div",17),o.qZA()(),o.TgZ(21,"div",14)(22,"div",2)(23,"div",15)(24,"h3",4),o._uU(25,"LOGO APLICACI\xd3N"),o.qZA(),o.YNc(26,b,6,0,"form",18),o.qZA(),o.YNc(27,M,4,1,"div",17),o.qZA()(),o.TgZ(28,"div",14)(29,"div",2)(30,"div",15)(31,"h3",4),o._uU(32,"IMAGEN DE BIENVENIDA"),o.qZA(),o.YNc(33,z,6,0,"form",18),o.qZA(),o.YNc(34,U,4,1,"div",17),o.qZA()(),o._UZ(35,"br"),o.qZA()()()()(),o._UZ(36,"br")(37,"br")(38,"br")(39,"br")(40,"br"),o.TgZ(41,"div",1)(42,"div",13)(43,"div",2)(44,"div",3)(45,"h3",4),o._uU(46,"Enlaces e informaci\xf3n"),o.qZA()(),o._UZ(47,"br")(48,"br"),o.TgZ(49,"div",1)(50,"div",13)(51,"div",19)(52,"div",2)(53,"div",15)(54,"h4",4),o._uU(55,"Tel\xe9fono"),o.qZA(),o.TgZ(56,"div",20)(57,"span",21),o._UZ(58,"i",22),o.qZA(),o.TgZ(59,"input",23),o.NdJ("ngModelChange",function(e){o.CHM(n);const a=o.oxw();return o.KtG(a.diseno.telefono=e)}),o.qZA()()()()(),o.TgZ(60,"div",24)(61,"div",2)(62,"div",15)(63,"h4",4),o._uU(64,"Direcci\xf3n del Instituto Electoral del Estado"),o.qZA(),o.TgZ(65,"div",20)(66,"span",21),o._UZ(67,"i",25),o.qZA(),o.TgZ(68,"input",26),o.NdJ("ngModelChange",function(e){o.CHM(n);const a=o.oxw();return o.KtG(a.diseno.direccionInstituto=e)}),o.qZA()()()()(),o.TgZ(69,"div",27)(70,"div",2)(71,"div",15)(72,"h4",4),o._uU(73,"Correo Electr\xf3nico"),o.qZA(),o.TgZ(74,"div",20)(75,"span",21),o._UZ(76,"i",28),o.qZA(),o.TgZ(77,"input",29),o.NdJ("ngModelChange",function(e){o.CHM(n);const a=o.oxw();return o.KtG(a.diseno.correoElectronico=e)}),o.qZA()()()()(),o.TgZ(78,"div",27)(79,"div",2)(80,"div",15)(81,"h4",4),o._uU(82,"Pag\xedna Web"),o.qZA(),o.TgZ(83,"div",20)(84,"span",21),o._UZ(85,"i",30),o.qZA(),o.TgZ(86,"input",31),o.NdJ("ngModelChange",function(e){o.CHM(n);const a=o.oxw();return o.KtG(a.diseno.paginaWeb=e)}),o.qZA()()()()()()(),o._UZ(87,"br")(88,"br")(89,"br"),o.TgZ(90,"div",1)(91,"div",13)(92,"div",32)(93,"div",2)(94,"div",15)(95,"h4",4),o._uU(96,"URL Facebook"),o.qZA(),o.TgZ(97,"div",20)(98,"span",21),o._UZ(99,"i",33),o.qZA(),o.TgZ(100,"input",34),o.NdJ("ngModelChange",function(e){o.CHM(n);const a=o.oxw();return o.KtG(a.diseno.enlaceFacebook=e)}),o.qZA()()()()(),o.TgZ(101,"div",32)(102,"div",2)(103,"div",15)(104,"h4",4),o._uU(105,"URL Instagram"),o.qZA(),o.TgZ(106,"div",20)(107,"span",21),o._UZ(108,"i",35),o.qZA(),o.TgZ(109,"input",36),o.NdJ("ngModelChange",function(e){o.CHM(n);const a=o.oxw();return o.KtG(a.diseno.enlaceInstagram=e)}),o.qZA()()()()(),o.TgZ(110,"div",32)(111,"div",2)(112,"div",15)(113,"h4",4),o._uU(114,"URL Twitter"),o.qZA(),o.TgZ(115,"div",20)(116,"span",21),o._UZ(117,"i",37),o.qZA(),o.TgZ(118,"input",38),o.NdJ("ngModelChange",function(e){o.CHM(n);const a=o.oxw();return o.KtG(a.diseno.enlaceTwitter=e)}),o.qZA()()()()(),o.TgZ(119,"div",32)(120,"div",2)(121,"div",15)(122,"h4",4),o._uU(123,"URL YouTube"),o.qZA(),o.TgZ(124,"div",20)(125,"span",21),o._UZ(126,"i",39),o.qZA(),o.TgZ(127,"input",40),o.NdJ("ngModelChange",function(e){o.CHM(n);const a=o.oxw();return o.KtG(a.diseno.enlaceYoutube=e)}),o.qZA()()()()(),o._UZ(128,"br"),o.qZA()()()()(),o._UZ(129,"br")(130,"br")(131,"br")(132,"br")(133,"br"),o.TgZ(134,"div",1)(135,"div",13)(136,"div",2)(137,"div",3)(138,"h3",4),o._uU(139,"Colores del sistema"),o.qZA()(),o._UZ(140,"br")(141,"br"),o.TgZ(142,"div",1)(143,"div",13)(144,"div",27)(145,"div",2)(146,"div",15)(147,"h4",4),o._uU(148,"Color primario"),o.qZA(),o.TgZ(149,"div",41)(150,"h4"),o._uU(151,"Selecciona tu color principal"),o.qZA(),o.TgZ(152,"div",42)(153,"input",43),o.NdJ("ngModelChange",function(e){o.CHM(n);const a=o.oxw();return o.KtG(a.diseno.colorPrimario=e)}),o.qZA()()()()()(),o.TgZ(154,"div",27)(155,"div",2)(156,"div",15)(157,"h4",4),o._uU(158,"Color secundario"),o.qZA(),o.TgZ(159,"div",41)(160,"h4"),o._uU(161,"Selecciona tu color secundario"),o.qZA(),o.TgZ(162,"div",42)(163,"input",44),o.NdJ("ngModelChange",function(e){o.CHM(n);const a=o.oxw();return o.KtG(a.diseno.colorSecundario=e)}),o.qZA()()()()()(),o._UZ(164,"br"),o.qZA()()()()(),o._UZ(165,"br"),o.TgZ(166,"div",45)(167,"button",46),o.NdJ("click",function(){o.CHM(n);const e=o.oxw();return o.KtG(e.guardarConfiguracion())}),o._UZ(168,"i",47),o._uU(169," Guardar configuraci\xf3n "),o.qZA()()()()}if(2&t){const n=o.oxw();o.xp6(19),o.Q6J("ngIf",""===n.logoInstituto64),o.xp6(1),o.Q6J("ngIf",""!==n.logoInstituto64),o.xp6(6),o.Q6J("ngIf",""===n.logoApp64),o.xp6(1),o.Q6J("ngIf",""!==n.logoApp64),o.xp6(6),o.Q6J("ngIf",""===n.imgWelcome64),o.xp6(1),o.Q6J("ngIf",""!==n.imgWelcome64),o.xp6(25),o.Q6J("ngModel",n.diseno.telefono),o.xp6(9),o.Q6J("ngModel",n.diseno.direccionInstituto),o.xp6(9),o.Q6J("ngModel",n.diseno.correoElectronico),o.xp6(9),o.Q6J("ngModel",n.diseno.paginaWeb),o.xp6(14),o.Q6J("ngModel",n.diseno.enlaceFacebook),o.xp6(9),o.Q6J("ngModel",n.diseno.enlaceInstagram),o.xp6(9),o.Q6J("ngModel",n.diseno.enlaceTwitter),o.xp6(9),o.Q6J("ngModel",n.diseno.enlaceYoutube),o.xp6(26),o.Q6J("ngModel",n.diseno.colorPrimario),o.xp6(10),o.Q6J("ngModel",n.diseno.colorSecundario)}}const L=[{path:"",component:(()=>{class t{constructor(n,i){this.personalizacionService=n,this.mensajeService=i,this.logoInstituto64="",this.logoApp64="",this.imgWelcome64="",this.diseno={logoInstituto:{foto:"",tipo:1},logoApp:{foto:"",tipo:1},imagenBienvenida:{foto:"",tipo:1},telefono:"",direccionInstituto:"",correoElectronico:"",paginaWeb:"",enlaceFacebook:"",enlaceInstagram:"",enlaceTwitter:"",enlaceYoutube:"",colorPrimario:"#206bc4",colorSecundario:"#C52020"},this.isLoading=u.v.neutro}ngOnInit(){console.log("Incializador del componente OnInit"),this.getPersonalizacionId()}getPersonalizacionId(){this.isLoading=u.v.trueLoading,this.personalizacionService.getPersonalizacionId(1).subscribe({next:n=>{console.log("Personalizacion Data Obtenida --- >"),console.log(n),this.diseno=n,this.logoInstituto64=n.logoInstituto?.foto,console.log("Logo del Instituto ---\x3e ",this.logoInstituto64),this.logoApp64=n.logoApp?.foto,console.log("Logo de la App ---\x3e ",this.logoApp64),this.imgWelcome64=n.imagenBienvenida?.foto,console.log("Imagen de Bienvenida ---\x3e ",this.imgWelcome64),console.log("El dise\xf1o actual --- > ",this.diseno),this.isLoading=u.v.falseLoading},error:n=>{console.log("Error")}})}seleccionarLogoInstituto(n){console.log("Obteniendo imagenes a editar... ");const i=n.target.files[0];if(i){const e=new FileReader;e.readAsDataURL(i),e.onload=()=>{this.logoInstituto64=e.result,this.diseno.logoInstituto={foto:this.logoInstituto64,tipo:2},console.log("La imagen actual del candidato --\x3e ",this.diseno.logoInstituto)}}}eliminarLogoInstituto(){console.log("Eliminamos la foto del logo app -> "),this.logoInstituto64="",this.diseno.logoInstituto={foto:"",tipo:1},console.log(this.diseno.logoInstituto)}seleccionarLogoApp(n){console.log("Obteniendo imagen a editar...",n.target.files[0]);const i=n.target.files[0];if(i){const e=new FileReader;e.readAsDataURL(i),e.onload=()=>{this.logoApp64=e.result,this.diseno.logoApp={foto:this.logoApp64,tipo:2},console.log("La imagen actual del candidato --\x3e ",this.diseno.logoApp)}}}eliminarLogoApp(){console.log("Eliminamos la foto del logo app -> "),this.logoApp64="",this.diseno.logoApp={foto:"",tipo:1},console.log(this.diseno.logoApp)}seleccionarImgWelcome(n){console.log("Obteniendo imagenes a editar... ");const i=n.target.files[0];if(i){const e=new FileReader;e.readAsDataURL(i),e.onload=()=>{this.imgWelcome64=e.result,this.diseno.imagenBienvenida={foto:this.imgWelcome64,tipo:2},console.log("La imagen actual del candidato --\x3e ",this.diseno.imagenBienvenida)}}}eliminarImgWelcome(){console.log("Eliminamos la foto del logo app -> "),this.imgWelcome64="",this.diseno.imagenBienvenida={foto:"",tipo:1},console.log(this.diseno.imagenBienvenida)}guardarConfiguracion(){console.log("Enviamos los datos de Personalizaci\xf3n... "),console.log(this.diseno),this.personalizacionService.putPersonalizacionId(1,this.diseno).subscribe({next:n=>{console.log("TODO SALIO BIEN AL EDITAR LA PERSONALIZACION DEL PORTAL: ",n),this.mensajeService.mensajeExito("Se actualiz\xf3 con \xe9xito")},error:n=>{this.mensajeService.mensajeError("Error al actualizar")}})}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(f),o.Y36(C.V))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-personalizacion"]],decls:19,vars:3,consts:[[1,"row","row-cards"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[3,"ngSwitch"],["class","progress",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"ti","ti-mood-confuzed",2,"padding-right","5px"],["href","/panel/faq"],[1,"ti","ti-location"],[1,"progress"],[1,"progress-bar","progress-bar-indeterminate","bg-green"],[1,"row"],[1,"col-md-4"],[1,"card-body"],["class","dropzone","id","dropzone-default","action","./","autocomplete","off","novalidate","",4,"ngIf"],[4,"ngIf"],["class","dropzone","id","dropzone-default-2","action","./","autocomplete","off","novalidate","",4,"ngIf"],[1,"col-md-4","mb-3"],[1,"input-group","mb-2"],[1,"input-group-text"],[1,"ti","ti-phone-call"],["type","text","placeholder","+52 000-000-0000","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-8","mb-3"],[1,"ti","ti-map-pin"],["type","text","placeholder","Calle ...","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6"],[1,"ti","ti-at"],["type","text","placeholder","correo@example.com","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"ti","ti-world"],["type","text","placeholder","pagina-example.com","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-12","mb-3"],[1,"ti","ti-brand-facebook"],["type","text","placeholder","https://facebook.com","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"ti","ti-brand-instagram"],["type","text","placeholder","https://instagram.com","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"ti","ti-brand-twitter"],["type","text","placeholder","https://twitter.com","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"ti","ti-brand-youtube"],["type","text","placeholder","https://youtube.com","autocomplete","off",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","g-2"],[1,"col-auto"],["type","color","value","#206bc4","title","Choose your color",1,"form-control","form-control-color",3,"ngModel","ngModelChange"],["type","color","value","#C52020","title","Choose your color",1,"form-control","form-control-color",3,"ngModel","ngModelChange"],[1,"col-md-12","py-3"],[1,"btn","btn-outline-success","w-100",3,"click"],[1,"ti","ti-paint",2,"padding-right","10px"],["id","dropzone-default","action","./","autocomplete","off","novalidate","",1,"dropzone"],[1,"fallback"],["name","file","type","file",3,"change"],[1,"ti","ti-photo-plus","custom-icon"],["alt","",3,"src"],[1,"btn","btn-danger",2,"margin-top",".75rem","width","100%",3,"click"],["id","dropzone-default-2","action","./","autocomplete","off","novalidate","",1,"dropzone"]],template:function(n,i){1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),o._uU(5,"Personalizaci\xf3n del Portal"),o.qZA()(),o._UZ(6,"br")(7,"br"),o.ynx(8,5),o.YNc(9,A,2,0,"div",6),o.YNc(10,P,170,16,"div",7),o.BQk(),o._UZ(11,"br"),o.TgZ(12,"h5"),o._UZ(13,"i",8),o._uU(14,"\xbfTienes dudas? "),o.qZA(),o.TgZ(15,"h5")(16,"a",9),o._uU(17," Visita nuestra secci\xf3n de FAQ "),o._UZ(18,"i",10),o.qZA()()()()()),2&n&&(o.xp6(8),o.Q6J("ngSwitch",i.isLoading),o.xp6(1),o.Q6J("ngSwitchCase",2),o.xp6(1),o.Q6J("ngSwitchCase",3))},dependencies:[c.O5,c.RF,c.n9,d._Y,d.Fj,d.JJ,d.JL,d.On,d.F],styles:[".card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:5px;padding:20px}.card-title[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px;text-align:center}.dropzone[_ngcontent-%COMP%]{border:2px dashed #007bff;padding:20px;text-align:center;background-color:#f8f8f8;border-radius:5px}.fallback[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:block;opacity:0;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer}.dropzone.dragover[_ngcontent-%COMP%]{border-color:#5bc0de;background-color:#fff}.custom-icon[_ngcontent-%COMP%]{font-size:2rem;color:#007bff}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{text-align:center}h5[_ngcontent-%COMP%]{text-align:center;color:purple}.card-header[_ngcontent-%COMP%]{align-items:center;justify-content:center}.card-body[_ngcontent-%COMP%]   .row.g-2[_ngcontent-%COMP%]{justify-content:center}"]}),t})(),canActivate:[r(2087).a],data:{claimType:"CanAccessPersonalizacion"}}];let q=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[m.Bz.forChild(L),m.Bz]}),t})();var O=r(6208);let y=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[c.ez,q,O.m,d.UX,d.u5]}),t})()}}]);